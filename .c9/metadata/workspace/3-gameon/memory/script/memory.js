{"changed":true,"filter":false,"title":"memory.js","tooltip":"/3-gameon/memory/script/memory.js","value":"\"use strict\"\n\nvar MemoryGame = {\n    \n    array: [],\n    row: 4,\n    col: 4,\n    cardsFlipped: 0,\n    flippedArr: [],\n    completePairs: [],\n    pairs: 0,\n    timeoutID: null,\n    \n    init: function(e){\n        \n        MemoryGame.array = RandomGenerator.getPictureArray(MemoryGame.row,MemoryGame.col);\n        \n        console.log(MemoryGame.array);\n        \n        MemoryGame.createTable();\n    },\n    \n    createTable: function(){\n        var div = document.querySelector(\"#table\");\n        console.log(div);\n        \n        var table = document.createElement(\"table\");\n        \n        if((MemoryGame.row*MemoryGame.col)%2===1)\n        {\n            MemoryGame.row = 4;\n            MemoryGame.col = 4;\n        }\n        \n        for(var i = 0; i < MemoryGame.row; i++)\n        {\n            var tr = document.createElement(\"tr\");\n            \n            for(var j = 0; j < MemoryGame.col; j++)\n            {\n                var data = document.createElement(\"td\");\n                var img = document.createElement(\"img\");\n                var a = document.createElement(\"a\");\n                \n                img.setAttribute(\"src\",\"pics/\"+MemoryGame.array[(i*MemoryGame.col+j)]+\".png\");\n                img.className = \"hidden\";\n                \n                a.setAttribute(\"href\",\"#\");\n                \n                a.appendChild(img);\n                data.appendChild(a);\n                \n                tr.appendChild(data);\n            }\n            \n            table.appendChild(tr);\n        }\n        \n                \n        table.addEventListener(\"click\",MemoryGame.flipCard);\n        table.addEventListener(\"keypress\",MemoryGame.flipCard);\n                \n        var button = document.createElement(\"input\");\n        button.setAttribute(\"type\",\"button\");\n        button.setAttribute(\"value\",\"Reset\");\n        button.addEventListener(\"click\",MemoryGame.reset);\n        \n        div.appendChild(table);\n        div.appendChild(button);\n    },\n    \n    flipCard: function(e){\n    \n        var node = e.target;\n        \n        if(node.nodeName === \"A\")\n        {\n            node = node.firstChild;\n        }\n                \n        if(node.nodeName === \"IMG\")\n        {\n            if(!(MemoryGame.flippedArr[0]&&node===MemoryGame.flippedArr[0]))\n            {\n                if(MemoryGame.cardsFlipped < 2&&MemoryGame.checkForComplete(node))\n                {\n                    node.className = \"normal\";\n                    \n                    MemoryGame.flippedArr.push(node);\n                    MemoryGame.cardsFlipped++;\n                }\n                \n                if(MemoryGame.cardsFlipped === 2)       \n                {\n                    MemoryGame.checkMatch();\n                }\n            }\n        }\n    },\n    \n    checkForComplete: function(node){\n        for(var i = 0; i < MemoryGame.completePairs.length;i++)\n        {\n            if(node.getAttribute(\"src\")===MemoryGame.completePairs[i])\n            {\n                return false;\n            }\n        }\n        \n        return true;\n    },\n    \n    checkMatch: function(){\n        \n        if(MemoryGame.flippedArr[0].getAttribute(\"src\") === MemoryGame.flippedArr[1].getAttribute(\"src\"))\n        {\n            MemoryGame.completePairs.push(MemoryGame.flippedArr[0].getAttribute(\"src\"));\n            MemoryGame.pairs++;\n            MemoryGame.cardsFlipped = 0;\n            MemoryGame.flippedArr = [];\n            \n            if(MemoryGame.pairs === (MemoryGame.row*MemoryGame.col)/2)\n            {\n                MemoryGame.winningMessage();\n                var button = document.querySelector(\"input\");\n                button.setAttribute(\"value\",\"Play Again?\");\n            }\n        }\n        else\n        {\n            if(!MemoryGame.timeoutID)\n            {\n                MemoryGame.timeoutID = window.setTimeout(MemoryGame.unflipCards,1000);\n            }\n        }\n    },\n    \n    unflipCards: function(){\n        \n        for(var i = 0;i < 2;i++)\n        {\n            var node = MemoryGame.flippedArr[i];\n            node.className = \"hidden\";\n        }\n        \n        window.clearTimeout(MemoryGame.timeoutID);\n        MemoryGame.timeoutID = null;\n        \n        MemoryGame.cardsFlipped -= 2;\n        MemoryGame.flippedArr.splice(0,2);\n    },\n    \n    reset: function(){\n        var node = document.querySelector(\"#table\");\n        while (node.firstChild)\n        {\n            node.removeChild(node.firstChild);\n        }\n        \n        MemoryGame.cardsFlipped = 0;\n        MemoryGame.pairs = 0;\n        MemoryGame.flippedArr = [];\n        MemoryGame.completePairs = [];\n        \n        if(document.querySelector(\".text\"))\n        {\n            node = document.getElementById(\"main\");\n            node.removeChild(node.lastChild);\n        }\n        \n        MemoryGame.init();\n        \n        console.log(\"Reset engage!!!\")\n    },\n    \n    winningMessage: function(){\n        \n        var div = document.createElement(\"div\");\n        div.className = \"text\";\n        \n        var p = document.createElement(\"p\");\n        p.innerHTML = \"Du vann!!\";\n        \n        div.appendChild(p);\n        \n        document.querySelector(\"#main\").appendChild(div);\n        \n    }\n}\n\n\n\nwindow.onload = MemoryGame.init;","undoManager":{"mark":99,"position":100,"stack":[[{"group":"doc","deltas":[{"start":{"row":79,"column":16},"end":{"row":79,"column":17},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":17},"end":{"row":79,"column":18},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":18},"end":{"row":79,"column":19},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":19},"end":{"row":79,"column":20},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":20},"end":{"row":79,"column":21},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":21},"end":{"row":79,"column":22},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":22},"end":{"row":79,"column":23},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":21},"end":{"row":79,"column":23},"action":"remove","lines":["no"]},{"start":{"row":79,"column":21},"end":{"row":79,"column":29},"action":"insert","lines":["nodeName"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":29},"end":{"row":79,"column":30},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":30},"end":{"row":79,"column":31},"action":"insert","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":31},"end":{"row":79,"column":32},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":32},"end":{"row":79,"column":33},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":33},"end":{"row":79,"column":34},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":34},"end":{"row":79,"column":35},"action":"insert","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":34},"end":{"row":79,"column":35},"action":"remove","lines":["t"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":34},"end":{"row":79,"column":36},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":34},"end":{"row":79,"column":36},"action":"remove","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":34},"end":{"row":79,"column":36},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":35},"end":{"row":79,"column":36},"action":"insert","lines":["I"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":36},"end":{"row":79,"column":37},"action":"insert","lines":["M"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":37},"end":{"row":79,"column":38},"action":"insert","lines":["G"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":40},"end":{"row":80,"column":0},"action":"insert","lines":["",""]},{"start":{"row":80,"column":0},"end":{"row":80,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":8},"end":{"row":80,"column":9},"action":"insert","lines":["{"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":9},"end":{"row":82,"column":9},"action":"insert","lines":["","            ","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":82,"column":9},"end":{"row":98,"column":9},"action":"remove","lines":["","        ","        if(!(MemoryGame.flippedArr[0]&&node===MemoryGame.flippedArr[0]))","        {","            if(MemoryGame.cardsFlipped < 2&&MemoryGame.checkForComplete(node))","            {","                node.className = \"normal\";","                ","                MemoryGame.flippedArr.push(node);","                MemoryGame.cardsFlipped++;","            }","            ","            if(MemoryGame.cardsFlipped === 2)       ","            {","                MemoryGame.checkMatch();","            }","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":9},"end":{"row":96,"column":9},"action":"insert","lines":["","        ","        if(!(MemoryGame.flippedArr[0]&&node===MemoryGame.flippedArr[0]))","        {","            if(MemoryGame.cardsFlipped < 2&&MemoryGame.checkForComplete(node))","            {","                node.className = \"normal\";","                ","                MemoryGame.flippedArr.push(node);","                MemoryGame.cardsFlipped++;","            }","            ","            if(MemoryGame.cardsFlipped === 2)       ","            {","                MemoryGame.checkMatch();","            }","        }"]}]}],[{"group":"doc","deltas":[{"start":{"row":80,"column":9},"end":{"row":81,"column":8},"action":"remove","lines":["","        "]}]}],[{"group":"doc","deltas":[{"start":{"row":95,"column":9},"end":{"row":96,"column":12},"action":"remove","lines":["","            "]}]}],[{"group":"doc","deltas":[{"start":{"row":81,"column":0},"end":{"row":81,"column":4},"action":"insert","lines":["    "]},{"start":{"row":82,"column":0},"end":{"row":82,"column":4},"action":"insert","lines":["    "]},{"start":{"row":83,"column":0},"end":{"row":83,"column":4},"action":"insert","lines":["    "]},{"start":{"row":84,"column":0},"end":{"row":84,"column":4},"action":"insert","lines":["    "]},{"start":{"row":85,"column":0},"end":{"row":85,"column":4},"action":"insert","lines":["    "]},{"start":{"row":86,"column":0},"end":{"row":86,"column":4},"action":"insert","lines":["    "]},{"start":{"row":87,"column":0},"end":{"row":87,"column":4},"action":"insert","lines":["    "]},{"start":{"row":88,"column":0},"end":{"row":88,"column":4},"action":"insert","lines":["    "]},{"start":{"row":89,"column":0},"end":{"row":89,"column":4},"action":"insert","lines":["    "]},{"start":{"row":90,"column":0},"end":{"row":90,"column":4},"action":"insert","lines":["    "]},{"start":{"row":91,"column":0},"end":{"row":91,"column":4},"action":"insert","lines":["    "]},{"start":{"row":92,"column":0},"end":{"row":92,"column":4},"action":"insert","lines":["    "]},{"start":{"row":93,"column":0},"end":{"row":93,"column":4},"action":"insert","lines":["    "]},{"start":{"row":94,"column":0},"end":{"row":94,"column":4},"action":"insert","lines":["    "]},{"start":{"row":95,"column":0},"end":{"row":95,"column":4},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":30},"end":{"row":79,"column":31},"action":"remove","lines":["!"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":30},"end":{"row":79,"column":31},"action":"insert","lines":["="]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":46},"end":{"row":89,"column":0},"action":"insert","lines":["",""]},{"start":{"row":89,"column":0},"end":{"row":89,"column":20},"action":"insert","lines":["                    "]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"remove","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":16},"end":{"row":89,"column":20},"action":"remove","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":16},"end":{"row":89,"column":20},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":20},"end":{"row":89,"column":21},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":21},"end":{"row":89,"column":22},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":22},"end":{"row":89,"column":23},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":23},"end":{"row":89,"column":24},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":24},"end":{"row":89,"column":25},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":25},"end":{"row":89,"column":26},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":26},"end":{"row":89,"column":27},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":26},"end":{"row":89,"column":27},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":26},"end":{"row":89,"column":27},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":27},"end":{"row":89,"column":28},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":27},"end":{"row":89,"column":28},"action":"remove","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":27},"end":{"row":89,"column":28},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":28},"end":{"row":89,"column":29},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":29},"end":{"row":89,"column":30},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":30},"end":{"row":89,"column":31},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":31},"end":{"row":89,"column":33},"action":"insert","lines":["()"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":32},"end":{"row":89,"column":34},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":33},"end":{"row":89,"column":34},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":34},"end":{"row":89,"column":35},"action":"insert","lines":["u"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":35},"end":{"row":89,"column":36},"action":"insert","lines":["p"]}]}],[{"group":"doc","deltas":[{"start":{"row":89,"column":38},"end":{"row":89,"column":39},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":88,"column":46},"end":{"row":89,"column":39},"action":"remove","lines":["","                    console.log(\"sup\");"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":12},"end":{"row":79,"column":13},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":11},"end":{"row":79,"column":12},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"remove","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":9},"end":{"row":79,"column":10},"action":"remove","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":79,"column":9},"action":"remove","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":80,"column":0},"action":"insert","lines":["",""]},{"start":{"row":80,"column":0},"end":{"row":80,"column":8},"action":"insert","lines":["        "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":79,"column":12},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":12},"end":{"row":79,"column":16},"action":"insert","lines":["    "]}]}],[{"group":"doc","deltas":[{"start":{"row":77,"column":35},"end":{"row":78,"column":0},"action":"insert","lines":["",""]},{"start":{"row":78,"column":0},"end":{"row":78,"column":12},"action":"insert","lines":["            "]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":12},"end":{"row":78,"column":14},"action":"insert","lines":["\"\""]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":14},"end":{"row":78,"column":15},"action":"insert","lines":[")"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":12},"end":{"row":78,"column":13},"action":"insert","lines":["("]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":12},"end":{"row":78,"column":13},"action":"insert","lines":["c"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":13},"end":{"row":78,"column":14},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":14},"end":{"row":78,"column":15},"action":"insert","lines":["n"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":15},"end":{"row":78,"column":16},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":16},"end":{"row":78,"column":17},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":17},"end":{"row":78,"column":18},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":18},"end":{"row":78,"column":19},"action":"insert","lines":["e"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":19},"end":{"row":78,"column":20},"action":"insert","lines":["."]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":20},"end":{"row":78,"column":21},"action":"insert","lines":["l"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":21},"end":{"row":78,"column":22},"action":"insert","lines":["o"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":22},"end":{"row":78,"column":23},"action":"insert","lines":["g"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":9},"end":{"row":79,"column":10},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":10},"end":{"row":79,"column":11},"action":"remove","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":9},"end":{"row":79,"column":10},"action":"remove","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":79,"column":9},"action":"remove","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":79,"column":8},"end":{"row":79,"column":9},"action":"insert","lines":["}"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":25},"end":{"row":78,"column":26},"action":"insert","lines":["d"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":26},"end":{"row":78,"column":27},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":27},"end":{"row":78,"column":28},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":28},"end":{"row":78,"column":29},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":29},"end":{"row":78,"column":30},"action":"insert","lines":["i"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":30},"end":{"row":78,"column":31},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":30},"end":{"row":78,"column":31},"action":"remove","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":30},"end":{"row":78,"column":31},"action":"insert","lines":["s"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":31},"end":{"row":78,"column":32},"action":"insert","lines":[" "]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":32},"end":{"row":78,"column":33},"action":"insert","lines":["A"]}]}],[{"group":"doc","deltas":[{"start":{"row":78,"column":35},"end":{"row":78,"column":36},"action":"insert","lines":[";"]}]}],[{"group":"doc","deltas":[{"start":{"row":77,"column":35},"end":{"row":78,"column":36},"action":"remove","lines":["","            console.log(\"dis is A\");"]}]}]]},"ace":{"folds":[],"scrolltop":1800,"scrollleft":0,"selection":{"start":{"row":141,"column":34},"end":{"row":141,"column":44},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":127,"state":"no_regex","mode":"ace/mode/javascript"}},"timestamp":1417525631805}